<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Gaël Varoquaux, computer / data / health science">

        <link rel="alternate"  href="https://gael-varoquaux.info/feeds/all.atom.xml" type="application/atom+xml" title="Gaël Varoquaux Full Atom Feed"/>

        <title>Of travels and sprints -- Gaël Varoquaux: computer / data / health science</title>

    <link href="https://mastodon.social/@GaelVaroquaux" rel="me">

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.3.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.0/css/all.min.css">
    <link rel="stylesheet" href="https://gael-varoquaux.info/theme/css/pure.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <!-- OpenGraph -->
	<meta property="og:type" content="article" />
	<meta property="og:url" content="https://gael-varoquaux.info/programming/of-travels-and-sprints.html" />
	<meta property="og:title" content="Of travels and sprints" />
	<meta property="og:description" content="This month I have traveled a bit for scientific-computing related reasons. In England First of all, I was speaking at the OKcon, open knowledge conference in London, about Scientific tools in..." />
	<meta property="og:image" content="" />
    <meta property="og:logo" content="https://gael-varoquaux.info/images/gael.png" />
</head>

<body>
<div class="pure-g-r" id="layout">
    <div class="sidebar sidebar-article pure-u">
        <header class="header-article">
            <hgroup>
                <a href="https://gael-varoquaux.info">
		    <img class="avatar" alt="Gaël Varoquaux" 
                     src="https://gael-varoquaux.info/images/gael.png">
                </a>
                <a href="https://gael-varoquaux.info" class="article-info">
		    <h2 class="article-info">Gaël Varoquaux</h2>
		</a>
                <p>Tue 01 April 2008</p>
                <a href="/">&larr;Home</a>
            </hgroup>
        </header>
    </div>
    <div class="pure-u">
        <div class="content">
            <section class="post">
                <header class="post-header">
                    <h1>Of travels and sprints</h1>
                        <p class="post-meta">
                            under                                 <a class="post-category" href="https://gael-varoquaux.info/tag/scipy.html">scipy</a>
                                <a class="post-category" href="https://gael-varoquaux.info/tag/scientific-computing.html">scientific computing</a>
                                <a class="post-category" href="https://gael-varoquaux.info/tag/conferences.html">conferences</a>
		    <span class="readtime">
			&nbsp Read time: 7 min.
		    </span>
<!--<script src="https://apis.google.com/js/platform.js" async defer></script>-->
<span class="social_links">
<!--<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="GaelVaroquaux">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js" async defer></script>
-->
<!-- Place this tag where you want the +1 button to render. -->
<span class="g-plusone" data-size="medium"></span>
</span>                        </p>
                </header>
            </section>
            <p>This month I have traveled a bit for scientific-computing related
reasons.</p>
<div class="section" id="in-england">
<h2>In England</h2>
<p>First of all, I was speaking at the OKcon, <a class="reference external" href="http://www.okfn.org/okcon/">open knowledge conference</a>
in London, about Scientific tools in Python in general, and Mayavi in
particular. I jumped on the occasion to visit the Airbus campus in
Bristol. We have had some contacts with these guys, because they use
Mayavi in some of their homegrown applications, and I was curious to put
faces on friendly names on the mailing list. In addition, I was eager to
find out how they were using Mayavi and Python scientific tools in an
industrial environment, as I have never worked in another place than a
physics lab.</p>
<div class="section" id="visiting-the-airbus-campus">
<h3>Visiting the Airbus campus</h3>
<p>The Airbus visit was enlightening: the Bristol campus is a major
research facility (several thousands people) dedicated to wing design. A
good part of the work is done through simulations deployed on big
clusters. These calculations have historically been run in Fortran and
C, but apparently the engineers are switching to a mix of compiled
languages and Python. Moreover, steering of these simulations, through
mesh-design, visualization of the results, analysis of the data, is done
mainly through an interact program, ‘flightpad’, that is developed fully
in Python, using the Envisage framework to couple together a bunch of
scientific components, including Mayavi. I got to spend a fair amount of
time with the guys doing this, and it was great to see how they did it.
They have a good approach to scientific software design (loosely coupled
components, reuse of all the existing libraries), eventhough their goal
(automatic generation of Python scripts from user interaction) is way
more ambitious than anything I have in mind. I was pleased to see that
they where using Mayavi in a way completely consistent with its design,
and did not have to hack around limitation.</p>
<p>It was really very encouraging to talk with the software strategist. He
obviously completely got it as far as how an open-source model can be
profitable to a company like Airbus. See so many people using open
source tools as their main tools, as well as a manager ready to back
this position, and explaining how it can be beneficial to contribute to
an open-source project, really filled me with hope.</p>
<p>Of course visiting the Airbus campus was not only about software, it was
also about planes (I got a drive around the campus, and it is quite fun
to ride a mini cooper between to 747), and beers (reinventing the world
to make it a better place at the pub, after work). I must say there is
something special about the scientific Python community, it is the
nicest community I know (with the sailing one :-&gt;). You meet people that
you have never seen before, and you immediately feel at ease.</p>
</div>
<div class="section" id="open-knowledge-conference">
<h3>Open Knowledge conference</h3>
<p>The Open Knowledge conference was fun. Not too much like the geek
conferences I am used to, as here the focus was on the data, and not the
tools , aka the software (for instance, the big deal is when you can get
access to the complete public transport time-tables, and you can make
maps of poorly connected areas). I met <a class="reference external" href="http://www.informatik.uni-bremen.de/cgi-bin/cgiwrap/malb/blosxom.pl">Martin Albrecht</a> from the <a class="reference external" href="http://www.sagemath.org/">sage
project</a>. It was very interesting to discuss with him. I generally
consider myself as doing rather fundamental research (Bose-Einstein
condensation), but for him I was in the applied science section, because
I use math and computers to do applied things. This distinction between
applied and fundamental maths yields a distinction in the application of
the code, and therefore the way an open-source scientific project can
survive. It was very interesting to see the way sage’s development
process therefore differed from scipy’s. I think that both Martin’s talk
on sage, and mine on Python and interactive visualization had a lot of
success: the room was full of scholars, and they wanted tools to do
their work.</p>
<p>In London, I had the occasion to catch up with my brother, and Rob, a
former colleague. That was nice too (and yielded more beers).</p>
</div>
</div>
<div class="section" id="paris">
<h2>Paris</h2>
<div class="section" id="nipy-sprint">
<h3>Nipy Sprint</h3>
<p>The week after, I was attending a sprint in Paris on <a class="reference external" href="http://neuroimaging.scipy.org/">nipy</a>:
neuroimaging in Python. We were a bunch of enthusiastic scientific
Python users crammed in a small room during the day. There was the team
from Berkeley with including Jarrod and Fernando, and all their friends.
I got to make new friends, and catch up with old ones. The goal of the
nipy effort is to build a complete processing pipeline for neuroimaging
data, especially fMRI, in Python. This is a lot of work, as many
transformations are applied to the raw data to make it useful for
scientific publications. As the field matures, these transformations
pile up, and the processing pipeline gets more and more complex. There
already exists a good pipeline under MatLab (<a class="reference external" href="http://www.fil.ion.ucl.ac.uk/spm/">SPM</a>), the problem is
that, due to the poor language features of MatLab, it is a codebase hard
to extend and to modify. One of the goals of the nipy project is to make
a pluggable architecture, for researcher to be able to replace part of
the pipeline by their own code, and thus explore new methods while
comparing them to the reference one. This means that there are some
interesting software engineering problems in here (pluggable pipelines,
framework…, the kind of stuff I like), however the current focus is to
get the algorithms right, before trying to do software over-engineering.</p>
<p>The Berkeley group got an NSF grant to work on the project and has been
able to hire two developers for two years (Chris Burns and Tom Waite).
The effort is lead by Jarrod Millman, and they have put a lot of work in
making the underlying libraries better (that is improving numpy and
scipy).</p>
<p>I had difficulties contributing any useful code, as I don’t know
neuroimaging, but I had the pleasure of seeing people pick up the mayavi
API and use it to quickly build domain-specific tools for displaying
brains and activation regions. As usual this also revealed some
shortcomings in the mlab API that I plan to address ASAP.</p>
</div>
<div class="section" id="ipython-sprint">
<h3>IPython Sprint</h3>
<p>The week end after Fernando, Laurent Dufréchou, Stefan van der Waalt and
myself crashed at my parent’s place to work on ipython1 and the front
ends. My mother cooked us some fabulous food and I had a great time.</p>
<p>Unfortunately we did get as far as I would have like. The right
abstraction for talking between the ipython1 execution engine, and the
front end are not really easy to get right, as the engine is nothing
more than an abstract execution engine, that basically only has a
namespace and knows how to execute stuff in a non-blocking mode (that’s
where it gets hard: how do you know what is going on with your engine
and the commands you have sent to it? How do you deal with
introspections requests such as tab-completion or docstring
exploration). We want as little logics in the front ends as possible:
let us not duplicate tab-completion or history. This is why we are
progressively building an object, that Fernando dubbed
“InputStateManager” that is doing the impedance matching between the
front end and the engine. I am starting to believe that the best way to
connect this object (ISM) to the front end is via a callback-based
mechanism: the front-end calls the ISM methods and gives them a callback
to call when finished (for instance if running in a different thread, a
Wx frontend would pass something based on Wx.CallAfter to display the
result). That way the mechanism is very general, can adapt to
event-driven front ends or readline-based one, and knows nothing about
the front end. Of course not much code got written, because I am way too
slow, and it took me ages to figure this out.</p>
<p>We had a lot of fun, and for me the highlight of the week end was when
my girlfriend joined us to do some hacking on a really cool project
trying to use the scipy.org wiki to edit the numpy docstring.</p>
<p>Fernando has pictures of all these happy moments. and I hope he will
publish them somewhere (Fernando, get a blog :-&gt;). Next time I hope
there will be more of us.</p>
<p><strong>Edit:</strong> <a class="reference external" href="http://gael-varoquaux.info/physics/slides_okcon.pdf">my slides at OKcon</a></p>
</div>
</div>

            <div class="hr" style="margin-bottom: -.5em;"></div>
<!--<script src="https://apis.google.com/js/platform.js" async defer></script>-->
<span class="social_links">
<!--<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="GaelVaroquaux">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js" async defer></script>
-->
<!-- Place this tag where you want the +1 button to render. -->
<span class="g-plusone" data-size="medium"></span>
</span>            <a href="#" class="go-top">Go Top</a>
<footer class="footer">
    <p>&copy; Gaël Varoquaux &ndash;
        Built with <a href="https://github.com/PurePelicanTheme/pure">Pure Theme</a>
        for <a href="http://blog.getpelican.com/">Pelican</a>
    </p>
</footer>        </div>
    </div>
</div>
    <script
src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.0.1/jquery.fitvids.min.js"></script>
    <script>
        $(document).ready(function(){
            $(".content").fitVids();
        });
    </script>
    <script>
    // Highlight the current section in the TOC
(function () {
    'use strict';
    var SectionScroller = {
        anchorTops: [],

        el: {
            anchors: document.querySelectorAll('.toc-backref'),
            anchorLinks: document.querySelectorAll('a.reference.internal')
        },
        
        forEach: function(array, callback, scope) {
            for (var i = 0, ii = array.length; i < ii; i++) {
                callback.call(scope, i, array[i]);
            }
        },

        throttle: function (fn, threshhold, scope) {
          threshhold = threshhold || (threshhold = 250);
          var last;
          var deferTimer;
          return function () {
            var context = scope || this;
            var now = +new Date();
            var args = arguments;
            if (last && now < last + threshhold) {
              // hold on to it
              clearTimeout(deferTimer);
              deferTimer = setTimeout(function () {
                last = now;
                fn.apply(context, args);
              }, threshhold);
            } else {
              last = now;
              fn.apply(context, args);
            }
          };
        },
        
        mathSign: function (x) {
            x = +x; // convert to a number
            if (x === 0 || isNaN(x)) {
                return x;
            }
            return x > 0 ? 1 : -1;
        },

        anchorGetter: function () {
            var SS = SectionScroller;
            for (var i = 0, max = SS.el.anchors.length; i < max; i++) {
                SS.anchorTops[i] = SS.el.anchors[i].offsetTop;
            }
            for (var j = 0, jj = SS.anchorTops.length; j < jj; j++) {
                if (SS.anchorTops[j] - 350 < window.scrollY) {
                    for (var x = 0, xx = SS.el.anchors.length; x < xx; x++) {
                        SS.el.anchorLinks[x].classList.remove('selected');
                    }
                    SS.el.anchorLinks[j].classList.add('selected');
                }
            }
        },
        
        smooth: function (e) {
            var id = e.currentTarget.getAttribute('href');
            var node = document.querySelector(id);
            var nodeTop = node.offsetTop;
            var winTop = window.scrollY;
            var sign = SectionScroller.mathSign(nodeTop);
            var scrollAmnt;
            var down; 
            if (nodeTop > winTop) {
                down = true;
                scrollAmnt = nodeTop - winTop;
            } else {
                down = false;
                scrollAmnt = Math.abs(winTop - nodeTop);
            }
            
            var scroller = function () {
                if (down) {
                    window.scrollTo(0, window.scrollY + 1);
                } else {
                    window.scrollTo(0, window.scrollY - 1);
                }
                scrollAmnt--;
                if (scrollAmnt > 0)  {
                    window.requestAnimationFrame(scroller);
                }
            };
            window.requestAnimationFrame(scroller);
            e.preventDefault();
        },
        
        smoothScroll: function(e) {
            var id = e.currentTarget.getAttribute('href');
            var node = document.querySelector(id);
            var scrollContainer = node;
            do { //find scroll container
                scrollContainer = scrollContainer.parentNode;
                if (!scrollContainer) return;
                scrollContainer.scrollTop += 1;
            } while (scrollContainer.scrollTop === 0);

            var targetY = 0;
            do { //find the top of target relatively to the container
                if (node == scrollContainer) break;
                targetY += node.offsetTop;
            } while (node === node.offsetParent);

            var scroll = function(c, a, b, i) {
                i++; if (i > 30) return;
                c.scrollTop = a + (b - a) / 30 * i;
                setTimeout(function(){ scroll(c, a, b, i); }, 20);
            };
            // start scrolling
            scroll(scrollContainer, scrollContainer.scrollTop, targetY, 0);
            e.preventDefault();
        },

        events: function () {
            var SS = SectionScroller;
            window.addEventListener('scroll', SS.throttle(SS.anchorGetter, 150));
            SS.forEach(SS.el.anchorLinks, function (index, link) {
                link.addEventListener('click', SS.smooth);
            });
        },

        init: function () {
            SectionScroller.anchorGetter();
            SectionScroller.events();
        }
    };

    SectionScroller.init();
})();
</script>
    <script>
        var $top = $('.go-top');

        // Show or hide the sticky footer button
        $(window).scroll(function() {
            if ($(this).scrollTop() > 200) {
                $top.fadeIn(200);
            } else {
                $top.fadeOut(200);
            }
        });

        // Animate the scroll to top
        $top.click(function(event) {
            event.preventDefault();
            $('html, body').animate({scrollTop: 0}, 300);
        })

        // Makes sure that the href="#" attached to the <a> elements
        // don't scroll you back up the page.
        $('body').on('click', 'a[href="#"]', function(event) {
            event.preventDefault();
        });
    </script>
    <script  language="JavaScript" type="text/javascript">
    /* From http://evirtus.net/pub/eflickrstream.asp */
    /* Global variables */
    var bolOnLoadRun=false;
    var bolFlickrRun=false;
    var objFlickrOutput=null;
    
    /* OnLoad events */
    window.onload = function() {
    bolOnLoadRun=true;
    if (! /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
	eFlickrStream();
    };
    }
    
    /*
    eFlickrStream - Lovely, lovely photos! :-)
    - 02.08.2007 @ 14:33: Initial version
    */
    function eFlickrStream() {
    if (!bolFlickrRun ) { return false; } else { bolFlickrRun=false; }
    if ((!document.createElement) && (!document.getElementById) && (!document.getElementsByTagName) ) { return false; }// Test for required browser capabilities
    
    /*   *** Options/start ***   */
    var strTarget='flickrstream';// Target container for the flickr badge (must allready exist in the document)
    /*   *** Options/end ***     */
    
    if (!document.getElementById(strTarget)){return false;}// Exsist if target doesn't exsist
    
    var objTarget=document.getElementById(strTarget);
    objTarget.appendChild(objFlickrOutput);// Append output
    
    objFlickrOutput=null;// We're done, delete stored variable value
    objFlickr=null;
    }
    
    /*
    jsonFlickrFeed - Triggered when the Flickr json "feed" is loaded, generates Flickr photos output list item (Deefer "trigger method" from Patrick Quinn-Graham's DOM Flickr Badge)
    - 02.08.2007 @ 14:33: Initial version
    - 23.11.2007 @ 08:24: Updated to use eSetAttr(), enables the flickr link in IE
    - 29.11.2007 @ 05:52: Some changes for easier configuration (of both options and text-strings)
    */
    function jsonFlickrFeed(objFlickr) {
    if ((!document.createElement) && (!document.getElementById) && (!document.getElementsByTagName) ) { return false; }// Test for required browser capabilities
    
    /*   *** Options/start ***   */
    var intMaxImages=10;// Maximum number of images to show (1-20)
    var bolThumbSquare=true;// Load the square thumbnails
    var intThumbWidth=75;// Thumbnail width (omitted if set to "0")
    var strLightbox='flickrstream';// Lightbox "group name" (define to mark the thumbnails for lightbox usage, adds rel="lightbox[value]" to image links)
    var strImgAlt='[title]';// Alternative title for images ("[title]" will be replaced by image title)
    var strImgLinkTitle='View a larger version of \"[title]\"';// Link title for the image link
    /*   *** Options/end ***     */
    
    var objElm,objTxt,objImg,objLnk,objTmp,strTmp;
    var intPhotos=objFlickr.items.length;
    var objOut=document.createElement('ul');
    objOut.setAttribute('class','flickrlist');
    
    for (var iCntA=0; ( (iCntA<intPhotos) && (iCntA<intMaxImages)); iCntA++) {
    
	objElm=document.createElement('li');// Create item container element (<li>)
    
	objLnk=document.createElement('a');// Create link (to the large(r) photo)
	objLnk.setAttribute('href',objFlickr.items[iCntA].link);
	objLnk.setAttribute('title',strImgLinkTitle.replace('[title]',objFlickr.items[iCntA].title));
	if (strLightbox!=''){objLnk.setAttribute('rel','lightbox['+strLightbox+']');}// Add relation value for lightbox usage
    
	strTmp=objFlickr.items[iCntA].media.m;// Retreive thumbnail URI
	if (bolThumbSquare){strTmp=strTmp.replace('_m.jpg','_s.jpg');}// Swap default thumbnail for square...
    
	objImg=document.createElement('img');// Main thumbnail
	eSetAttr(objImg,'class','photo');
	objImg.setAttribute('src',strTmp);
	objImg.setAttribute('alt',strImgAlt.replace('[title]',objFlickr.items[iCntA].title));
	if (intThumbWidth!=0){objImg.setAttribute('width',intThumbWidth);}
    
	objLnk.appendChild(objImg);// Append thumbnail to link
	objElm.appendChild(objLnk);// Append link to container (li)

	objOut.appendChild(objElm);// Append container to output object
	}
    
    objFlickrOutput=objOut;// Store output for later use...
    
    if (bolOnLoadRun) {
	eFlickrStream();
	}
    else {
	bolFlickrRun=true;
	}
    }
    
    /*
    eSetAttr/eGetAttr - An attempt to tame IE's weird DOM model
    - 22.11.2007 @ 12:50 - Initial version
    */
    function eSetAttr(objTarget,strAttr,strValue) {
    if (typeof window.attachEvent!='undefined' && typeof window.opera=='undefined') {
    //    //Set attributes for IE
	switch (strAttr) {
	    case('class'):
		objTarget.setAttribute('className',strValue);
		break;
	    case('style'):
		objTarget.style.cssText=strValue;
		break;
	    default:
		objTarget.setAttribute(strAttr,strValue);
		break;
	    }
	}
    else {
    //    //Set attributes for /Other browsers/
	objTarget.setAttribute(strAttr,strValue);
	}
    //66885349@N03
    }
    </script>
    <script type="text/javascript" src="https://api.flickr.com/services/feeds/photos_public.gne?id=66885349@N03&amp;format=json&amp;" defer="defer"></script>
</body>
</html>