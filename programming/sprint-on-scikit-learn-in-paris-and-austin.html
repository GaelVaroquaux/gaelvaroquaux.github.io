<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Gaël Varoquaux, computer / data / brain science">

        <link rel="alternate"  href="http://gael-varoquaux.info/feeds/all.atom.xml" type="application/atom+xml" title="Gaël Varoquaux Full Atom Feed"/>

        <title>Sprint on scikit-learn, in Paris and Austin -- Gaël Varoquaux: computer / data / brain science</title>


    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.3.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../theme/css/pure.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
</head>

<body>
<div class="pure-g-r" id="layout">
    <div class="sidebar sidebar-article pure-u">
        <header class="header-article">
            <hgroup>
                <a href="..">
		    <img class="avatar" alt="Gaël Varoquaux" 
                     src="http://gael-varoquaux.info/images/gael.png">
                </a>
                <a href=".." class="article-info">
		    <h2 class="article-info">Gaël Varoquaux</h2>
		</a>
                <p>Wed 01 August 2018</p>
                <a href="/">&larr;Home</a>
            </hgroup>
        </header>
    </div>
    <div class="pure-u">
        <div class="content">
            <section class="post">
                <header class="post-header">
                    <h1>Sprint on scikit-learn, in Paris and Austin</h1>
                        <p class="post-meta">
                            under                                 <a class="post-category" href="../tag/scikit-learn.html">scikit-learn</a>
                                <a class="post-category" href="../tag/open-source.html">open-source</a>
                                <a class="post-category" href="../tag/reproducible-research.html">reproducible research</a>
                                <a class="post-category" href="../tag/scientific-software.html">scientific software</a>
<!--<script src="https://apis.google.com/js/platform.js" async defer></script>-->
<span class="social_links">
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="GaelVaroquaux">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js" async defer></script>
<!-- Place this tag where you want the +1 button to render. -->
<span class="g-plusone" data-size="medium"></span>
</span>                        </p>
                </header>
            </section>
            <p>Two weeks ago, we held a scikit-learn sprint in Austin and Paris. Here is
a brief report, on progresses and challenges.</p>
<div class="topic">
<p class="topic-title first">Several sprints</p>
<p>We actually held two sprint in Austin: one open sprint, at the scipy
conference sprints, which was open to new contributors, and one core
sprint, for more advanced contributors. Thank you to all who joined
the scipy conference sprint. As I wasn’t there, I cannot report on
it.</p>
</div>
<div class="section" id="many-achievements">
<h2>Many achievements</h2>
<p>Too many things were done to be listed here. Here is brief overview:</p>
<ul class="simple">
<li><strong>Optics got merged</strong>: <a class="reference external" href="http://scikit-learn.org/dev/modules/clustering.html#optics">The optics clustering algorithm</a> is a
density-base clustering, as DBScan, but with hyperparameters more
flexible and easier to set. Our implementation is also more scaleable
for very large number of samples. The <a class="reference external" href="https://github.com/scikit-learn/scikit-learn/pull/1984">Pull request</a> was opened
in 2013, and got many many improvements over the years.</li>
<li><strong>Yeo-Johnson</strong>: <a class="reference external" href="http://scikit-learn.org/dev/modules/preprocessing.html#mapping-to-a-gaussian-distribution">The Yeo-Johnson transform</a>
is a simple parametric transformation of the data that can be used to
make it more Gaussian. It is similar to the Box-Cox transform but can
deal with negative data
(<a class="reference external" href="https://github.com/scikit-learn/scikit-learn/pull/11520">PR</a>).</li>
<li><strong>Novelty versus outlier detection</strong>: Novelty detection attempts to
find on new data observations that differ from train data. Outlier
detection considers that even in the train data there are aberrant
observation. New modes in scikit-learn enable both usage scenario with
the same algorithms (see <a class="reference external" href="https://github.com/scikit-learn/scikit-learn/issues/8693">this issue</a> and <a class="reference external" href="https://github.com/scikit-learn/scikit-learn/pull/10700">this
PR</a>).</li>
<li><strong>Missing-value indicator</strong>: a new transform that adds indicator columns
marking missing data
(<a class="reference external" href="https://github.com/scikit-learn/scikit-learn/pull/8075">PR</a>).</li>
<li><strong>Pypy support</strong>: pypy support was merged.
(<a class="reference external" href="https://github.com/scikit-learn/scikit-learn/pull/11010">PR</a>).</li>
<li><strong>Random Forest with 100 estimators</strong> The default of <cite>n_estimator</cite> in
RandomForest was changed from 10, which was fast but statistically
poor, to 100 (<a class="reference external" href="https://github.com/scikit-learn/scikit-learn/pull/11542">PR</a>).</li>
<li><strong>Changing to 5-fold</strong>: we changed to default of cross-validation from
3-fold to 5-fold
(<a class="reference external" href="https://github.com/scikit-learn/scikit-learn/pull/11557">PR</a>).</li>
<li><strong>Toward release 0.20</strong>: most of the effort of the sprint was actually
spent on addressing issues for the 0.20 release: a long list of quality
improvements
(<a class="reference external" href="https://github.com/scikit-learn/scikit-learn/milestone/24">milestone</a>).</li>
</ul>
</div>
<div class="section" id="scikit-learn-is-hard-work">
<h2>Scikit-learn is hard work</h2>
<div class="figure align-right">
<img alt="" src="attachments/dev_scikit-learn.png" style="width: 300px;" />
<p class="caption">Even for the almighty &#64;amueller</p>
</div>
<p>Two days of intense group work on scikit-learn reminded me how much it is
hard work. I thought that it was maybe a good idea to try to illustrate
why.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li><strong>Mathematical errors</strong>: maintaining the library requires mathematical
understanding of the models. For instance Ivan Panico <a class="reference external" href="https://github.com/scikit-learn/scikit-learn/pull/11585">fixed the sparse
PCA</a>, for
which the transform was mathematically incorrect.</li>
<li><strong>Numerical instabilities</strong>: sometimes, however, when models give a
result different from the expected one, this is due to numerical
instability. For instance, Sergul Aydöre <a class="reference external" href="https://github.com/scikit-learn/scikit-learn/pull/11587">changed the tolerance for
certain variants of ridge</a></li>
<li><strong>Keeping examples and documentation up to date</strong>:
Each change requires changing all documentation and examples. We have a
lot these. For instance, Alex Boucault <a class="reference external" href="https://github.com/scikit-learn/scikit-learn/pull/11557">had to update many examples and
documentation pages when changing the default cross-validation</a>.</li>
<li><strong>Clean deprecation path</strong>: We make sure that our changes do not break
users code, and therefore we provide a smooth update path, with
progressive deprecations. For instance, <a class="reference external" href="https://github.com/scikit-learn/scikit-learn/pull/11557">the change of default
cross-validation</a> introduce
an intermediate step where the default is kept the same and warns that
it will change in two releases.</li>
<li><strong>Consistent behavior across the library</strong>:
One of the acclaimed values of scikit-learn is that it has a very
consistent behavior across different models. We enforce this by “common
tests”, that test some properties of the estimators altogether. For
instance, Sergul implemented <a class="reference external" href="https://github.com/scikit-learn/scikit-learn/pull/11558">common tests for sample weights</a>.</li>
<li><strong>Extensive testing</strong>: We test many many things in scikit-learn:
that the code snippets in the documentation are correct, that <a class="reference external" href="https://github.com/scikit-learn/scikit-learn/pull/11421">the
docstring conventions</a> are
respected, that there are no deprecation errors raised, including from
our dependencies. As a results, continuous integration is a core part
of our development. During the sprint, we flooded our cloud-based
continuous integration, and as a result iteration really slowed down.
<a class="reference external" href="https://travis-ci.org/">TravisCI</a> were kind enough to fix this by
allocating us freely more computing power.</li>
<li><strong>Supporting many versions</strong>: Least by not least, one constraint that
makes development hard with scikit-learn is that we support many
different versions of Python, of our dependencies, of linear-algebra
libraries, and of operating system. This makes development harder, and
continuous integration slower. But we feel that this is very valuable
for a core library: narrowing the supported versions means that users
are more likely to end up in unsatisfiable dependencies situations,
where different parts of a project want different version numbers of a
dependency.</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p><strong>Dropping support for Python 2</strong></p>
<p>Supporting many version slows development. It also prevents
implementing new features: supporting Python 2 makes it harder to
provide  better parallelism or traceback management.</p>
<p class="last">Python 3 has been out for 10 years. It is solid and comes with many
improvements over Python 2. Alongside with <a class="reference external" href="http://python3statement.org">many other projects</a>, we will be requiring Python 3 for
the future releases of scikit-learn (0.21 and later). scikit-learn
0.20 will be the last release to support Python 2. It will enable
us to develop faster a better toolkit.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="credits-and-acknowledgments">
<h2>Credits and acknowledgments</h2>
<div class="section" id="contributors-to-the-sprint">
<h3>Contributors to the sprint</h3>
<div class="sidebar">
<p class="first sidebar-title">Women contributors</p>
<p class="last">We deeply regret having only one woman in this long list of
contributors. We care about diversity and welcome contributors from
under-represented groups <a class="footnote-reference" href="#id3" id="id1">[*]</a>.</p>
</div>
<p><strong>In Paris</strong></p>
<ul class="columns simple">
<li>Albert Thomas, Huawey</li>
<li>Alexandre Boucaud, Inria</li>
<li>Alexandre Gramfort, Inria</li>
<li>Eric Lebigot, CFM</li>
<li>Gaël Varoquaux, Inria</li>
<li>Ivan Panico, Deloitte</li>
<li>Jean-Baptiste Schiratti, Telecom ParisTech</li>
<li>Jérémie du Boisberranger, Inria</li>
<li>Léo Dreyfus-Schmidt, Dataiku</li>
<li>Nicolas Goix</li>
<li>Samuel Ronsin, Dataiku</li>
<li>Sebastien Treguer, Independent</li>
<li>Sergül Aydöre, Stevens Institute of Technology</li>
</ul>
<p><strong>In Austin</strong></p>
<ul class="columns simple">
<li>Andreas Mueller, Columbia</li>
<li>Guillaume Lemaître, Inria</li>
<li>Jan van Rijn, Columbia</li>
<li>Joan Massich, Inria</li>
<li>Joris Van den Bossche, Inria</li>
<li>Loïc Estève, Inria</li>
<li>Nicolas Hug, Columbia</li>
<li>Olivier Grisel, Inria</li>
<li>Roman Yurchak, independent</li>
<li>William de Vazelhes, Inria</li>
</ul>
<p><strong>Remote</strong></p>
<ul class="columns simple">
<li>Hanmin Qin, Peking University</li>
<li>Joel Nothman, University of Sydney</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="sponsors">
<h3>Sponsors</h3>
<ul class="simple">
<li><a class="reference external" href="https://franceisai.com/">France Is AI</a> payed the travel of the French
contributors to Austin</li>
<li>The NSF and the Sloan foundation payed the travel of the people from
Columbia.</li>
<li><a class="reference external" href="https://scipy2018.scipy.org">SciPy 2018</a> organizers (and sponsors) hosted the first part of the sprint in Austin,</li>
<li><a class="reference external" href="https://www.enthought.com/">Enthought</a> hosted the second part of the sprint in Austin,</li>
<li><a class="reference external" href="https://www.dataiku.com/">Dataiku</a> hosted us in Paris</li>
<li><a class="reference external" href="https://travis-ci.org/">TravisCI</a> raised our number of workers for
online testing</li>
<li><a class="reference external" href="https://www.meetup.com/Paris-Machine-learning-applications-group/">ParisML meetup</a> helped us with the organization</li>
</ul>
<p>Thank you all for the support</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Also thanks to Andy Mueller and Olivier Grisel for feedback on this blog post.</p>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[*]</a></td><td>We aspire to treat everybody excatly the same way. However,
acknowledging the fact that there is currently a lack of diversity, we
are happy to do some outreach and give extra help onboarding
newcomers.</td></tr>
</tbody>
</table>
</div>
</div>

            <div class="hr" style="margin-bottom: -.5em;"></div>
<!--<script src="https://apis.google.com/js/platform.js" async defer></script>-->
<span class="social_links">
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="GaelVaroquaux">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js" async defer></script>
<!-- Place this tag where you want the +1 button to render. -->
<span class="g-plusone" data-size="medium"></span>
</span>            <a href="#" class="go-top">Go Top</a>
<div class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = "gaelvaroquaux"; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div><footer class="footer">
    <p>&copy; Gaël Varoquaux &ndash;
        Built with <a href="https://github.com/PurePelicanTheme/pure">Pure Theme</a>
        for <a href="http://blog.getpelican.com/">Pelican</a>
    </p>
</footer>        </div>
    </div>
</div>
    <script
src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.0.1/jquery.fitvids.min.js"></script>
    <script>
        $(document).ready(function(){
            $(".content").fitVids();
        });
    </script>
    <script>
        var $top = $('.go-top');

        // Show or hide the sticky footer button
        $(window).scroll(function() {
            if ($(this).scrollTop() > 200) {
                $top.fadeIn(200);
            } else {
                $top.fadeOut(200);
            }
        });

        // Animate the scroll to top
        $top.click(function(event) {
            event.preventDefault();
            $('html, body').animate({scrollTop: 0}, 300);
        })

        // Makes sure that the href="#" attached to the <a> elements
        // don't scroll you back up the page.
        $('body').on('click', 'a[href="#"]', function(event) {
            event.preventDefault();
        });
    </script>
    <script  language="JavaScript" type="text/javascript">
    /* From http://evirtus.net/pub/eflickrstream.asp */
    /* Global variables */
    var bolOnLoadRun=false;
    var bolFlickrRun=false;
    var objFlickrOutput=null;
    
    /* OnLoad events */
    window.onload = function() {
    bolOnLoadRun=true;
    if (! /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
	eFlickrStream();
    };
    }
    
    /*
    eFlickrStream - Lovely, lovely photos! :-)
    - 02.08.2007 @ 14:33: Initial version
    */
    function eFlickrStream() {
    if (!bolFlickrRun ) { return false; } else { bolFlickrRun=false; }
    if ((!document.createElement) && (!document.getElementById) && (!document.getElementsByTagName) ) { return false; }// Test for required browser capabilities
    
    /*   *** Options/start ***   */
    var strTarget='flickrstream';// Target container for the flickr badge (must allready exist in the document)
    /*   *** Options/end ***     */
    
    if (!document.getElementById(strTarget)){return false;}// Exsist if target doesn't exsist
    
    var objTarget=document.getElementById(strTarget);
    objTarget.appendChild(objFlickrOutput);// Append output
    
    objFlickrOutput=null;// We're done, delete stored variable value
    objFlickr=null;
    }
    
    /*
    jsonFlickrFeed - Triggered when the Flickr json "feed" is loaded, generates Flickr photos output list item (Deefer "trigger method" from Patrick Quinn-Graham's DOM Flickr Badge)
    - 02.08.2007 @ 14:33: Initial version
    - 23.11.2007 @ 08:24: Updated to use eSetAttr(), enables the flickr link in IE
    - 29.11.2007 @ 05:52: Some changes for easier configuration (of both options and text-strings)
    */
    function jsonFlickrFeed(objFlickr) {
    if ((!document.createElement) && (!document.getElementById) && (!document.getElementsByTagName) ) { return false; }// Test for required browser capabilities
    
    /*   *** Options/start ***   */
    var intMaxImages=10;// Maximum number of images to show (1-20)
    var bolThumbSquare=true;// Load the square thumbnails
    var intThumbWidth=75;// Thumbnail width (omitted if set to "0")
    var strLightbox='flickrstream';// Lightbox "group name" (define to mark the thumbnails for lightbox usage, adds rel="lightbox[value]" to image links)
    var strImgAlt='[title]';// Alternative title for images ("[title]" will be replaced by image title)
    var strImgLinkTitle='View a larger version of \"[title]\"';// Link title for the image link
    /*   *** Options/end ***     */
    
    var objElm,objTxt,objImg,objLnk,objTmp,strTmp;
    var intPhotos=objFlickr.items.length;
    var objOut=document.createElement('ul');
    objOut.setAttribute('class','flickrlist');
    
    for (var iCntA=0; ( (iCntA<intPhotos) && (iCntA<intMaxImages)); iCntA++) {
    
	objElm=document.createElement('li');// Create item container element (<li>)
    
	objLnk=document.createElement('a');// Create link (to the large(r) photo)
	objLnk.setAttribute('href',objFlickr.items[iCntA].link);
	objLnk.setAttribute('title',strImgLinkTitle.replace('[title]',objFlickr.items[iCntA].title));
	if (strLightbox!=''){objLnk.setAttribute('rel','lightbox['+strLightbox+']');}// Add relation value for lightbox usage
    
	strTmp=objFlickr.items[iCntA].media.m;// Retreive thumbnail URI
	if (bolThumbSquare){strTmp=strTmp.replace('_m.jpg','_s.jpg');}// Swap default thumbnail for square...
    
	objImg=document.createElement('img');// Main thumbnail
	eSetAttr(objImg,'class','photo');
	objImg.setAttribute('src',strTmp);
	objImg.setAttribute('alt',strImgAlt.replace('[title]',objFlickr.items[iCntA].title));
	if (intThumbWidth!=0){objImg.setAttribute('width',intThumbWidth);}
    
	objLnk.appendChild(objImg);// Append thumbnail to link
	objElm.appendChild(objLnk);// Append link to container (li)

	objOut.appendChild(objElm);// Append container to output object
	}
    
    objFlickrOutput=objOut;// Store output for later use...
    
    if (bolOnLoadRun) {
	eFlickrStream();
	}
    else {
	bolFlickrRun=true;
	}
    }
    
    /*
    eSetAttr/eGetAttr - An attempt to tame IE's weird DOM model
    - 22.11.2007 @ 12:50 - Initial version
    */
    function eSetAttr(objTarget,strAttr,strValue) {
    if (typeof window.attachEvent!='undefined' && typeof window.opera=='undefined') {
    //    //Set attributes for IE
	switch (strAttr) {
	    case('class'):
		objTarget.setAttribute('className',strValue);
		break;
	    case('style'):
		objTarget.style.cssText=strValue;
		break;
	    default:
		objTarget.setAttribute(strAttr,strValue);
		break;
	    }
	}
    else {
    //    //Set attributes for /Other browsers/
	objTarget.setAttribute(strAttr,strValue);
	}
    //66885349@N03
    }
    </script>
    <script type="text/javascript" src="https://api.flickr.com/services/feeds/photos_public.gne?id=66885349@N03&amp;format=json&amp;" defer="defer"></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
        try {
            var pageTracker = _gat._getTracker("UA-55589822-1");
            pageTracker._trackPageview();
            } catch(err) {}
    </script>
</body>
</html>