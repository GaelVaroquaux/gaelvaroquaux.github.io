<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Gaël Varoquaux, computer / data / brain science">

        <link rel="alternate"  href="http://gael-varoquaux.info/feeds/all.atom.xml" type="application/atom+xml" title="Gaël Varoquaux Full Atom Feed"/>

        <title>Of software and Science. Reproducible science: what, why, and how -- Gaël Varoquaux: computer / data / brain science</title>


    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.3.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://gael-varoquaux.info/theme/css/pure.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
</head>

<body>
<div class="pure-g-r" id="layout">
    <div class="sidebar sidebar-article pure-u">
        <header class="header-article">
            <hgroup>
                <a href="http://gael-varoquaux.info">
		    <img class="avatar" alt="Gaël Varoquaux" 
                     src="http://gael-varoquaux.info/images/gael.png">
                </a>
                <a href="http://gael-varoquaux.info" class="article-info">
		    <h2 class="article-info">Gaël Varoquaux</h2>
		</a>
                <p>Wed 16 December 2015</p>
                <a href="/">&larr;Home</a>
            </hgroup>
        </header>
    </div>
    <div class="pure-u">
        <div class="content">
            <section class="post">
                <header class="post-header">
                    <h1>Of software and Science. Reproducible science: what, why, and how</h1>
                        <p class="post-meta">
                            under                                 <a class="post-category" href="http://gael-varoquaux.info/tag/reproducible-research.html">reproducible research</a>
                                <a class="post-category" href="http://gael-varoquaux.info/tag/science.html">science</a>
                                <a class="post-category" href="http://gael-varoquaux.info/tag/software.html">software</a>
                                <a class="post-category" href="http://gael-varoquaux.info/tag/machine-learning.html">machine learning</a>
                                <a class="post-category" href="http://gael-varoquaux.info/tag/scientific-software.html">scientific software</a>
<!--<script src="https://apis.google.com/js/platform.js" async defer></script>-->
<span class="social_links">
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="GaelVaroquaux">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js" async defer></script>
<!-- Place this tag where you want the +1 button to render. -->
<span class="g-plusone" data-size="medium"></span>
</span>                        </p>
                </header>
            </section>
            <p>At <a class="reference external" href="mloss-2015-wising-up-to-building-open-source-machine-learning.html">MLOSS 15</a> we
brainstormed on reproducible science, discussing <strong>why we care about
software in computer science</strong>. Here is a summary blending <a class="reference external" href="https://gist.github.com/GaelVaroquaux/33e7a7b297425890fefa">notes from
the discussions</a> with my
opinion.</p>
<blockquote class="epigraph">
“Without engineering, science is not more than philosophy”
&nbsp; &nbsp; —  &nbsp; &nbsp;
<a class="reference external" href="https://twitter.com/GaelVaroquaux/status/619767624654786560">the community</a></blockquote>
<p><strong>How do we enable better Science? Why do we do software in science?</strong>
These are the questions that we were interested in.</p>
<div class="grey docutils container">
<strong>Improving reproducility of our scientific studies makes us more
efficient in the long run</strong> to do good science: even inside a lab, new
research efforts build upon the previous work.</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="forms-of-reproducible-science-reproduction-replication-reuse">
<h2>Forms of reproducible science: reproduction, replication, &amp; reuse</h2>
<p><a class="reference external" href="https://politicalsciencereplication.wordpress.com/2013/02/24/is-there-a-difference-between-replication-reproduction-and-re-analysis/">The classic concepts of reproducible science</a>
are:</p>
<ul class="simple">
<li><strong>Reproducibility</strong>: being able to rerun an experiment as it was run,
for instance by reanalysing data.</li>
<li><strong>Replicability</strong>: being able to redo an experiment from scratch.</li>
</ul>
<p>The <em>reproducible science</em> movement argues sharing source code of
experiments is a need for <em>reproduction</em>.</p>
<p>For reproduction, fields like computer science (development of methods)
and biology (challenging data acquisition) have very different
constraints, with the complexity allocated differently between data and
code.</p>
<blockquote class="epigraph">
“Machine learning people use hugely complex algorithms on trivially
simple datasets. Biology does trivially simple algorithms on hugely
complex datasets.”
&nbsp; &nbsp; —  &nbsp; &nbsp;
<em>an MLOSS15 attendee</em></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>We felt that computer science needed an additional notion, complementing
replication and reproduction:</p>
<ul class="simple">
<li><strong>Reusability</strong>: applying the process to a new yet similar question.
For instance for a paper contributing data analysis method, applying it
to new data.</li>
</ul>
<div class="align-right docutils container">
Reusability is more valuable than reproducibility.</div>
<p>Reproducibility without reusability in method development may hinder the
advancement of science as it pushes people to do all the same
things, <em>eg</em> always running experiments on the same data.</p>
<p>Reusability enables results that the original investigator did not have in
mind. It implies that the experimental protocol extends further than the
exact scope of the question initially asked. For software development, it
is also harder, as it implies more robustness and flexibility.</p>
<p>Finally sharing source code is not enough: <strong>readability</strong> of the code is
necessary.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="roadblocks-to-reproducible-science">
<h2>Roadblocks to reproducible science</h2>
<div class="section" id="man-power">
<h3>Man power</h3>
<p>Reusability, readability, support of released code, all actually take a
lot of time, even though it is seldom acknowledged in talks about
reproducible science. Given a fixed man power, it is impossible to
achieve reusability and high quality for everything.</p>
</div>
<div class="section" id="computing-power">
<h3>Computing power</h3>
<p>Some numerical experiments or complex data analysis require weeks of
cluster to run. These will be much harder to reproduce. Also, rerunning
an analysis from scratch on a regular basis is a good recipe to achieve a
robust path from data to results. The more computing power is a limiting
resource, the more likely it is that a glitch is not detected.</p>
</div>
<div class="section" id="data-availability">
<h3>Data availability</h3>
<p>No access, or restricted access, to data is a show stopper for
reproducibility. Data sharing requirements are becoming common –from
funding agencies, or journals. However, privacy concerns, or confidential
information get in the way of making data public, for instance in medical
research or micro-economy. Often, these concerns serve as a pretext
to people who actually do not want to relinquish <em>control</em> <a class="footnote-reference" href="#id2" id="id1">[1]</a>.</p>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>A related post by Deevy Bishop: <a class="reference external" href="http://deevybee.blogspot.co.uk/2015/11/whos-afraid-of-open-data.html?m=1">Who’s afraid of open data</a></td></tr>
</tbody>
</table>
</div>
<div class="section" id="incentives-problem">
<h3>Incentives problem</h3>
<p>Fancy new results are what matters for success in academia. “High impact”
journals such as Nature or Science accept papers that amaze and impress,
often with subpar inspection of the materials and methods <a class="footnote-reference" href="#id4" id="id3">[2]</a>. The rate of
publication in many leading groups is incompatible with consolidation
efforts required for strong reproducibility.</p>
<p>On the other hand, it is hard to tell beforehand if a new idea is a good
one. Hence letting imagination forward to foster impossible and
improbable ideas is a good path to innovation. The underlying questions
are: What are the best community rules for the advancement of knowledge?
What do we want from the way science moves forward? Rapid publication of
many incremental ideas, <em>eg</em> at a conference, gives food for thoughts,
possibly at the sake of reproducibility.</p>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[2]</a></td><td>“Science, Nature and Cell, had a higher rate of retractions” –
<a class="reference external" href="https://en.wikipedia.org/wiki/Invalid_science">Wikipedia: Invalid science</a></td></tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="how-to-improve-the-situation">
<h2>How to improve the situation</h2>
<div class="section" id="docker-containers-and-virtual-machines">
<h3>Docker, containers, and virtual machines</h3>
<p>Docker, or other virtual machine technologies, enable shipping a software
environment. It diminishes the challenges of building software and
setting up an analysis. Virtual machines are used as a way to avoid
software packaging issues. This seems to me as a plaster on a wooden leg.</p>
<div class="align-right docutils container">
Containers give easy reproduction, to the cost of hard
replication and reuse.</div>
<p>Indeed, an analysis that lives in a box can be reproduced, but can it be
understood, modified, or applied to new data? New science is likely going
to come from modifying this analysis, or combining it with other tools,
or new data. If these other tools live in a different virtual machine,
the combination will be challenging.</p>
<p>In addition, people are using containers as an excuse to avoid tackling
the need for proper documentation of requirements, and the process to set
them up. They sometimes even try justify binary blobs <a class="footnote-reference" href="#id6" id="id5">[3]</a>. This is
wrong. An analysis should be runnable without requiring the stars to
align, and it should be understandable.</p>
<table class="docutils footnote" frame="void" id="id6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[3]</a></td><td>See also Titus Brown’s post: <a class="reference external" href="http://ivory.idyll.org/blog/2014-containers.html">The post-apocalyptic world of binary
containers</a></td></tr>
</tbody>
</table>
</div>
<div class="section" id="version-control-wear-your-seatbelt">
<h3>Version control: wear your seatbelt</h3>
<p><a class="reference external" href="https://git-scm.com/book/en/v2/Getting-Started-About-Version-Control">Version control</a>
is like a time machine: if used with regular commits, it enables rolling
back to any point in time. For my work, it’s always been a crucial aspect
to reproducing what me or my students did a while ago. I often meet
researchers that feel they lack time to learn it. I really cannot support
this position. <a class="reference external" href="http://try.github.io">http://try.github.io</a> is an easy way to learn version
control.</p>
<p><em>Hint</em>: use a “tag” to pin-point a position in the history that you might
want to repeat, such as making a figure or the publication of an article.</p>
</div>
<div class="section" id="sotware-libraries-curated-and-maintained">
<h3>Sotware libraries, curated and maintained</h3>
<p>Consolidating an analysis pipeline, a standard visualization, or any
computational aspect of a paper into a software library is a sure way to
make the paper more reproducible. It will also make the steps reusable,
and a replication easier. If continued effort is put in the library,
chances are that computational efficiency will improve over time, thus
helping in the long run with the challenge of computing power.</p>
<div class="align-right docutils container">
Tough choices: not every variant of an analysis can be forever
reproducible.</div>
<p>Maintaining the library will ensure that results are still reproducible
on new hardware, or with evolution of the general software stack (a new
Python or Matlab release, for instance). Documentation and curated
examples will lower the bar to reuse and facilitate replication of the
original scientific results.</p>
<p>To avoid feature creep and technical debt, a library calls for focused
efforts on selecting the most important operations.</p>
</div>
<div class="section" id="datasets-serving-as-model-experiments-tractable-and-open">
<h3>Datasets, serving as model experiments, tractable and open</h3>
<p>Sometimes researchers create a toy data, with a well-posed question, that
is curated and open, small enough to be tractable yet large enough to be
relevant to the application field. This is an invaluable service to the
field. One example is the <a class="reference external" href="https://en.wikipedia.org/wiki/Netflix_Prize">netflix prize</a> in machine learning,
which led to a standard dataset. Unfortunately, the dataset was taken
down some years later due to copyright concerns. But it has been
replaced, <em>eg</em> by the <a class="reference external" href="http://grouplens.org/datasets/movielens/">movielens dataset</a>. For computer vision, a
series of datasets –<a class="reference external" href="http://www.vision.caltech.edu/Image_Datasets/Caltech101/">Caltech101</a>, <a class="reference external" href="https://www.cs.toronto.edu/~kriz/cifar.html">CIFAR</a>, <a class="reference external" href="http://www.image-net.org/">ImageNet</a>…– have led to continuous progress of the
field. In bioinformatics, standard data are regularly created, for
instance by the <a class="reference external" href="http://dreamchallenges.org/">DREAM challenges</a>.</p>
<p>These reference open datasets serve as benchmarks and therefore foster
competition. They also define a canonical experiment, helping a wider
scientific community understand the questions that they ask. Ultimately,
they result in better software tools to solve the problem at hand, as
this problem becomes a standard example and application of tools.</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Sage_Bionetworks">Sage bionetworks</a>, for
instance, is a non-profit that collects and make biomedical data
available. These people believe, as I do, that such data will lead to
better medical care.</p>
</div>
<div class="section" id="changing-incentives-setting-the-right-goals">
<h3>Changing incentives: setting the right goals</h3>
<p>Making sustainable, quality scientific work that facilitates reproduction
needs to be a clearly-visible benefit to researchers, young and senior.
Such contributions should help them get jobs and grants.</p>
<p>An unsophisticated publication count is the basis of scientific
evaluation. We need to accept publications about data, software, and
replication of prior work in high-quality journals. They need to be
strictly reviewed, to establish high standards on these contributions.
This change is happening. <a class="reference external" href="http://www.gigasciencejournal.com/">Gigascience</a>, amongst other venues, publishes
data. The <a class="reference external" href="http://jmlr.org/mloss/">MLOSS (machine learning open source software) track</a> of the JMLR (journal of machine learning
research) publishes software, with a tough review on the software quality
of the project.</p>
<div class="align-right docutils container">
Researchers should cite the software they use.</div>
<p>Yet software is still often under cited: many will use a software
implementing a method, and only cite the original paper that proposed the
method. Another remaining challenge is: how to give credit for continuing
development and maintenance.</p>
<p>Fast-paced science is probably useful even if fragile. But the difference
between a quick proof of concept and solid, reproducible and reusable
work needs to be acknowledged. It is important to select for publication
not only impressive results, but also sound reusable material and
methods. The latter are the foundation of future scientific developments,
but high-impact journals tend to focus on the former.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="topic">
<p class="topic-title first"><strong>Related posts</strong>:</p>
<ul class="simple">
<li><a class="reference external" href="software-for-reproducible-science-lets-not-have-a-misunderstanding.html">Software for reproducible science: let’s not have a misunderstanding</a></li>
<li><a class="reference external" href="mloss-2015-wising-up-to-building-open-source-machine-learning.html">MLOSS 2015: wising up to building open-source machine learning</a></li>
</ul>
</div>
</div>
</div>

            <div class="hr" style="margin-bottom: -.5em;"></div>
<!--<script src="https://apis.google.com/js/platform.js" async defer></script>-->
<span class="social_links">
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="GaelVaroquaux">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js" async defer></script>
<!-- Place this tag where you want the +1 button to render. -->
<span class="g-plusone" data-size="medium"></span>
</span>            <a href="#" class="go-top">Go Top</a>
<footer class="footer">
    <p>&copy; Gaël Varoquaux &ndash;
        Built with <a href="https://github.com/PurePelicanTheme/pure">Pure Theme</a>
        for <a href="http://blog.getpelican.com/">Pelican</a>
    </p>
</footer>        </div>
    </div>
</div>
    <script
src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.0.1/jquery.fitvids.min.js"></script>
    <script>
        $(document).ready(function(){
            $(".content").fitVids();
        });
    </script>
    <script>
        var $top = $('.go-top');

        // Show or hide the sticky footer button
        $(window).scroll(function() {
            if ($(this).scrollTop() > 200) {
                $top.fadeIn(200);
            } else {
                $top.fadeOut(200);
            }
        });

        // Animate the scroll to top
        $top.click(function(event) {
            event.preventDefault();
            $('html, body').animate({scrollTop: 0}, 300);
        })

        // Makes sure that the href="#" attached to the <a> elements
        // don't scroll you back up the page.
        $('body').on('click', 'a[href="#"]', function(event) {
            event.preventDefault();
        });
    </script>
    <script  language="JavaScript" type="text/javascript">
    /* From http://evirtus.net/pub/eflickrstream.asp */
    /* Global variables */
    var bolOnLoadRun=false;
    var bolFlickrRun=false;
    var objFlickrOutput=null;
    
    /* OnLoad events */
    window.onload = function() {
    bolOnLoadRun=true;
    if (! /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
	eFlickrStream();
    };
    }
    
    /*
    eFlickrStream - Lovely, lovely photos! :-)
    - 02.08.2007 @ 14:33: Initial version
    */
    function eFlickrStream() {
    if (!bolFlickrRun ) { return false; } else { bolFlickrRun=false; }
    if ((!document.createElement) && (!document.getElementById) && (!document.getElementsByTagName) ) { return false; }// Test for required browser capabilities
    
    /*   *** Options/start ***   */
    var strTarget='flickrstream';// Target container for the flickr badge (must allready exist in the document)
    /*   *** Options/end ***     */
    
    if (!document.getElementById(strTarget)){return false;}// Exsist if target doesn't exsist
    
    var objTarget=document.getElementById(strTarget);
    objTarget.appendChild(objFlickrOutput);// Append output
    
    objFlickrOutput=null;// We're done, delete stored variable value
    objFlickr=null;
    }
    
    /*
    jsonFlickrFeed - Triggered when the Flickr json "feed" is loaded, generates Flickr photos output list item (Deefer "trigger method" from Patrick Quinn-Graham's DOM Flickr Badge)
    - 02.08.2007 @ 14:33: Initial version
    - 23.11.2007 @ 08:24: Updated to use eSetAttr(), enables the flickr link in IE
    - 29.11.2007 @ 05:52: Some changes for easier configuration (of both options and text-strings)
    */
    function jsonFlickrFeed(objFlickr) {
    if ((!document.createElement) && (!document.getElementById) && (!document.getElementsByTagName) ) { return false; }// Test for required browser capabilities
    
    /*   *** Options/start ***   */
    var intMaxImages=10;// Maximum number of images to show (1-20)
    var bolThumbSquare=true;// Load the square thumbnails
    var intThumbWidth=75;// Thumbnail width (omitted if set to "0")
    var strLightbox='flickrstream';// Lightbox "group name" (define to mark the thumbnails for lightbox usage, adds rel="lightbox[value]" to image links)
    var strImgAlt='[title]';// Alternative title for images ("[title]" will be replaced by image title)
    var strImgLinkTitle='View a larger version of \"[title]\"';// Link title for the image link
    /*   *** Options/end ***     */
    
    var objElm,objTxt,objImg,objLnk,objTmp,strTmp;
    var intPhotos=objFlickr.items.length;
    var objOut=document.createElement('ul');
    objOut.setAttribute('class','flickrlist');
    
    for (var iCntA=0; ( (iCntA<intPhotos) && (iCntA<intMaxImages)); iCntA++) {
    
	objElm=document.createElement('li');// Create item container element (<li>)
    
	objLnk=document.createElement('a');// Create link (to the large(r) photo)
	objLnk.setAttribute('href',objFlickr.items[iCntA].link);
	objLnk.setAttribute('title',strImgLinkTitle.replace('[title]',objFlickr.items[iCntA].title));
	if (strLightbox!=''){objLnk.setAttribute('rel','lightbox['+strLightbox+']');}// Add relation value for lightbox usage
    
	strTmp=objFlickr.items[iCntA].media.m;// Retreive thumbnail URI
	if (bolThumbSquare){strTmp=strTmp.replace('_m.jpg','_s.jpg');}// Swap default thumbnail for square...
    
	objImg=document.createElement('img');// Main thumbnail
	eSetAttr(objImg,'class','photo');
	objImg.setAttribute('src',strTmp);
	objImg.setAttribute('alt',strImgAlt.replace('[title]',objFlickr.items[iCntA].title));
	if (intThumbWidth!=0){objImg.setAttribute('width',intThumbWidth);}
    
	objLnk.appendChild(objImg);// Append thumbnail to link
	objElm.appendChild(objLnk);// Append link to container (li)

	objOut.appendChild(objElm);// Append container to output object
	}
    
    objFlickrOutput=objOut;// Store output for later use...
    
    if (bolOnLoadRun) {
	eFlickrStream();
	}
    else {
	bolFlickrRun=true;
	}
    }
    
    /*
    eSetAttr/eGetAttr - An attempt to tame IE's weird DOM model
    - 22.11.2007 @ 12:50 - Initial version
    */
    function eSetAttr(objTarget,strAttr,strValue) {
    if (typeof window.attachEvent!='undefined' && typeof window.opera=='undefined') {
    //    //Set attributes for IE
	switch (strAttr) {
	    case('class'):
		objTarget.setAttribute('className',strValue);
		break;
	    case('style'):
		objTarget.style.cssText=strValue;
		break;
	    default:
		objTarget.setAttribute(strAttr,strValue);
		break;
	    }
	}
    else {
    //    //Set attributes for /Other browsers/
	objTarget.setAttribute(strAttr,strValue);
	}
    //66885349@N03
    }
    </script>
    <script type="text/javascript" src="https://api.flickr.com/services/feeds/photos_public.gne?id=66885349@N03&amp;format=json&amp;" defer="defer"></script>
</body>
</html>